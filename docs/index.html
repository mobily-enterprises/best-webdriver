<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
      Home - Documentation
  </title>

  <link href="https://www.braintreepayments.com/images/favicon-ccda0b14.png" rel="icon" type="image/png">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">

  

  <!-- start Mixpanel -->
  <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("1919205b2da72e4da3b9b6639b444d59");</script>
  <!-- end Mixpanel -->
</head>

<body>
  <svg style="display: none;">
    <defs>
      <symbol id="linkIcon" fill="#706d77" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
      </symbol>
    </defs>
  </svg>

  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
  </label>

  <label for="nav-trigger" class="overlay"></label>

  <div class="top-nav-wrapper">
    <ul>
      <li  class="active" >
        <a href="index.html">
          
          
            <svg fill="#0095dd" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          
        </a>
      </li>

      

    </ul>
  </div>

  <nav>
    <h3 class="reference-title">
      Best Webdriver API
    </h3>

    <h3>Classes</h3><ul><li id="Driver-nav"><a href="Driver.html">Driver</a><ul class='methods'><li data-type="method" id="Driver-setPollInterval-nav"><a href="Driver.html#setPollInterval">setPollInterval</a></li><li data-type="method" id="Driver-setPollTimeout-nav"><a href="Driver.html#setPollTimeout">setPollTimeout</a></li><li data-type="method" id="Driver-waitFor-nav"><a href="Driver.html#waitFor">waitFor</a></li><li data-type="method" id="Driver-sleep-nav"><a href="Driver.html#sleep">sleep</a></li><li data-type="method" id="Driver-newSession-nav"><a href="Driver.html#newSession">newSession</a></li><li data-type="method" id="Driver-deleteSession-nav"><a href="Driver.html#deleteSession">deleteSession</a></li><li data-type="method" id="Driver-status-nav"><a href="Driver.html#status">status</a></li><li data-type="method" id="Driver-performActions-nav"><a href="Driver.html#performActions">performActions</a></li><li data-type="method" id="Driver-releaseActions-nav"><a href="Driver.html#releaseActions">releaseActions</a></li><li data-type="method" id="Driver-getTimeouts-nav"><a href="Driver.html#getTimeouts">getTimeouts</a></li><li data-type="method" id="Driver-setTimeouts-nav"><a href="Driver.html#setTimeouts">setTimeouts</a></li><li data-type="method" id="Driver-navigateTo-nav"><a href="Driver.html#navigateTo">navigateTo</a></li><li data-type="method" id="Driver-getCurrentUrl-nav"><a href="Driver.html#getCurrentUrl">getCurrentUrl</a></li><li data-type="method" id="Driver-back-nav"><a href="Driver.html#back">back</a></li><li data-type="method" id="Driver-forward-nav"><a href="Driver.html#forward">forward</a></li><li data-type="method" id="Driver-refresh-nav"><a href="Driver.html#refresh">refresh</a></li><li data-type="method" id="Driver-getTitle-nav"><a href="Driver.html#getTitle">getTitle</a></li><li data-type="method" id="Driver-getWindowHandle-nav"><a href="Driver.html#getWindowHandle">getWindowHandle</a></li><li data-type="method" id="Driver-closeWindow-nav"><a href="Driver.html#closeWindow">closeWindow</a></li><li data-type="method" id="Driver-getWindowHandles-nav"><a href="Driver.html#getWindowHandles">getWindowHandles</a></li><li data-type="method" id="Driver-switchToWindow-nav"><a href="Driver.html#switchToWindow">switchToWindow</a></li><li data-type="method" id="Driver-switchToFrame-nav"><a href="Driver.html#switchToFrame">switchToFrame</a></li><li data-type="method" id="Driver-switchToParentFrame-nav"><a href="Driver.html#switchToParentFrame">switchToParentFrame</a></li><li data-type="method" id="Driver-getWindowRect-nav"><a href="Driver.html#getWindowRect">getWindowRect</a></li><li data-type="method" id="Driver-setWindowRect-nav"><a href="Driver.html#setWindowRect">setWindowRect</a></li><li data-type="method" id="Driver-maximizeWindow-nav"><a href="Driver.html#maximizeWindow">maximizeWindow</a></li><li data-type="method" id="Driver-minimizeWindow-nav"><a href="Driver.html#minimizeWindow">minimizeWindow</a></li><li data-type="method" id="Driver-fullScreenWindow-nav"><a href="Driver.html#fullScreenWindow">fullScreenWindow</a></li><li data-type="method" id="Driver-getPageSource-nav"><a href="Driver.html#getPageSource">getPageSource</a></li><li data-type="method" id="Driver-executeScript-nav"><a href="Driver.html#executeScript">executeScript</a></li><li data-type="method" id="Driver-executeAsyncScript-nav"><a href="Driver.html#executeAsyncScript">executeAsyncScript</a></li><li data-type="method" id="Driver-getAllCookies-nav"><a href="Driver.html#getAllCookies">getAllCookies</a></li><li data-type="method" id="Driver-getNamedCookie-nav"><a href="Driver.html#getNamedCookie">getNamedCookie</a></li><li data-type="method" id="Driver-addCookie-nav"><a href="Driver.html#addCookie">addCookie</a></li><li data-type="method" id="Driver-deleteCookie-nav"><a href="Driver.html#deleteCookie">deleteCookie</a></li><li data-type="method" id="Driver-deleteAllCookies-nav"><a href="Driver.html#deleteAllCookies">deleteAllCookies</a></li><li data-type="method" id="Driver-dismissAlert-nav"><a href="Driver.html#dismissAlert">dismissAlert</a></li><li data-type="method" id="Driver-acceptAlert-nav"><a href="Driver.html#acceptAlert">acceptAlert</a></li><li data-type="method" id="Driver-getAlertText-nav"><a href="Driver.html#getAlertText">getAlertText</a></li><li data-type="method" id="Driver-sendAlertText-nav"><a href="Driver.html#sendAlertText">sendAlertText</a></li><li data-type="method" id="Driver-takeScreenshot-nav"><a href="Driver.html#takeScreenshot">takeScreenshot</a></li><li data-type="method" id="Driver-getActiveElement-nav"><a href="Driver.html#getActiveElement">getActiveElement</a></li><li data-type="method" id="Driver-findElement-nav"><a href="Driver.html#findElement">findElement</a></li><li data-type="method" id="Driver-findElements-nav"><a href="Driver.html#findElements">findElements</a></li><li data-type="method" id="Driver-findElementCss-nav"><a href="Driver.html#findElementCss">findElementCss</a></li><li data-type="method" id="Driver-findElementLinkText-nav"><a href="Driver.html#findElementLinkText">findElementLinkText</a></li><li data-type="method" id="Driver-findElementPartialLinkText-nav"><a href="Driver.html#findElementPartialLinkText">findElementPartialLinkText</a></li><li data-type="method" id="Driver-findElementTagName-nav"><a href="Driver.html#findElementTagName">findElementTagName</a></li><li data-type="method" id="Driver-findElementXpath-nav"><a href="Driver.html#findElementXpath">findElementXpath</a></li><li data-type="method" id="Driver-findElementsCss-nav"><a href="Driver.html#findElementsCss">findElementsCss</a></li><li data-type="method" id="Driver-findElementsLinkText-nav"><a href="Driver.html#findElementsLinkText">findElementsLinkText</a></li><li data-type="method" id="Driver-findElementsPartialLinkText-nav"><a href="Driver.html#findElementsPartialLinkText">findElementsPartialLinkText</a></li><li data-type="method" id="Driver-findElementsTagName-nav"><a href="Driver.html#findElementsTagName">findElementsTagName</a></li><li data-type="method" id="Driver-findElementsXpath-nav"><a href="Driver.html#findElementsXpath">findElementsXpath</a></li></ul></li><li id="Element-nav"><a href="Element.html">Element</a><ul class='methods'><li data-type="method" id="Element-waitFor-nav"><a href="Element.html#waitFor">waitFor</a></li><li data-type="method" id="Element-isSelected-nav"><a href="Element.html#isSelected">isSelected</a></li><li data-type="method" id="Element-getAttribute-nav"><a href="Element.html#getAttribute">getAttribute</a></li><li data-type="method" id="Element-getProperty-nav"><a href="Element.html#getProperty">getProperty</a></li><li data-type="method" id="Element-getCssValue-nav"><a href="Element.html#getCssValue">getCssValue</a></li><li data-type="method" id="Element-getText-nav"><a href="Element.html#getText">getText</a></li><li data-type="method" id="Element-getTagName-nav"><a href="Element.html#getTagName">getTagName</a></li><li data-type="method" id="Element-getRect-nav"><a href="Element.html#getRect">getRect</a></li><li data-type="method" id="Element-isEnabled-nav"><a href="Element.html#isEnabled">isEnabled</a></li><li data-type="method" id="Element-click-nav"><a href="Element.html#click">click</a></li><li data-type="method" id="Element-clear-nav"><a href="Element.html#clear">clear</a></li><li data-type="method" id="Element-sendKeys-nav"><a href="Element.html#sendKeys">sendKeys</a></li><li data-type="method" id="Element-takeScreenshot-nav"><a href="Element.html#takeScreenshot">takeScreenshot</a></li><li data-type="method" id="Element-findElement-nav"><a href="Element.html#findElement">findElement</a></li><li data-type="method" id="Element-findElements-nav"><a href="Element.html#findElements">findElements</a></li><li data-type="method" id="Element-findElementCss-nav"><a href="Element.html#findElementCss">findElementCss</a></li><li data-type="method" id="Element-findElementLinkText-nav"><a href="Element.html#findElementLinkText">findElementLinkText</a></li><li data-type="method" id="Element-findElementPartialLinkText-nav"><a href="Element.html#findElementPartialLinkText">findElementPartialLinkText</a></li><li data-type="method" id="Element-findElementTagName-nav"><a href="Element.html#findElementTagName">findElementTagName</a></li><li data-type="method" id="Element-findElementXpath-nav"><a href="Element.html#findElementXpath">findElementXpath</a></li><li data-type="method" id="Element-findElementsCss-nav"><a href="Element.html#findElementsCss">findElementsCss</a></li><li data-type="method" id="Element-findElementsLinkText-nav"><a href="Element.html#findElementsLinkText">findElementsLinkText</a></li><li data-type="method" id="Element-findElementsPartialLinkText-nav"><a href="Element.html#findElementsPartialLinkText">findElementsPartialLinkText</a></li><li data-type="method" id="Element-findElementsTagName-nav"><a href="Element.html#findElementsTagName">findElementsTagName</a></li><li data-type="method" id="Element-findElementsXpath-nav"><a href="Element.html#findElementsXpath">findElementsXpath</a></li></ul></li><li id="Browser-nav"><a href="Browser.html">Browser</a><ul class='methods'><li data-type="method" id="Browser-setAlwaysMatchKey-nav"><a href="Browser.html#setAlwaysMatchKey">setAlwaysMatchKey</a></li><li data-type="method" id="Browser-addFirstMatch-nav"><a href="Browser.html#addFirstMatch">addFirstMatch</a></li><li data-type="method" id="Browser-setRootKey-nav"><a href="Browser.html#setRootKey">setRootKey</a></li><li data-type="method" id="Browser-setSpecificKey-nav"><a href="Browser.html#setSpecificKey">setSpecificKey</a></li><li data-type="method" id="Browser-getSessionParameters-nav"><a href="Browser.html#getSessionParameters">getSessionParameters</a></li><li data-type="method" id="Browser-setExecutable-nav"><a href="Browser.html#setExecutable">setExecutable</a></li><li data-type="method" id="Browser-run-nav"><a href="Browser.html#run">run</a></li></ul></li><li id="Chrome-nav"><a href="Chrome.html">Chrome</a><ul class='methods'><li data-type="method" id="Chrome-setAlwaysMatchKey-nav"><a href="Chrome.html#setAlwaysMatchKey">setAlwaysMatchKey</a></li><li data-type="method" id="Chrome-addFirstMatch-nav"><a href="Chrome.html#addFirstMatch">addFirstMatch</a></li><li data-type="method" id="Chrome-setRootKey-nav"><a href="Chrome.html#setRootKey">setRootKey</a></li><li data-type="method" id="Chrome-setSpecificKey-nav"><a href="Chrome.html#setSpecificKey">setSpecificKey</a></li><li data-type="method" id="Chrome-getSessionParameters-nav"><a href="Chrome.html#getSessionParameters">getSessionParameters</a></li><li data-type="method" id="Chrome-setExecutable-nav"><a href="Chrome.html#setExecutable">setExecutable</a></li><li data-type="method" id="Chrome-run-nav"><a href="Chrome.html#run">run</a></li></ul></li><li id="Firefox-nav"><a href="Firefox.html">Firefox</a><ul class='methods'><li data-type="method" id="Firefox-setAlwaysMatchKey-nav"><a href="Firefox.html#setAlwaysMatchKey">setAlwaysMatchKey</a></li><li data-type="method" id="Firefox-addFirstMatch-nav"><a href="Firefox.html#addFirstMatch">addFirstMatch</a></li><li data-type="method" id="Firefox-setRootKey-nav"><a href="Firefox.html#setRootKey">setRootKey</a></li><li data-type="method" id="Firefox-setSpecificKey-nav"><a href="Firefox.html#setSpecificKey">setSpecificKey</a></li><li data-type="method" id="Firefox-getSessionParameters-nav"><a href="Firefox.html#getSessionParameters">getSessionParameters</a></li><li data-type="method" id="Firefox-setExecutable-nav"><a href="Firefox.html#setExecutable">setExecutable</a></li><li data-type="method" id="Firefox-run-nav"><a href="Firefox.html#run">run</a></li></ul></li><li id="Remote-nav"><a href="Remote.html">Remote</a><ul class='methods'><li data-type="method" id="Remote-setAlwaysMatchKey-nav"><a href="Remote.html#setAlwaysMatchKey">setAlwaysMatchKey</a></li><li data-type="method" id="Remote-addFirstMatch-nav"><a href="Remote.html#addFirstMatch">addFirstMatch</a></li><li data-type="method" id="Remote-setRootKey-nav"><a href="Remote.html#setRootKey">setRootKey</a></li><li data-type="method" id="Remote-setSpecificKey-nav"><a href="Remote.html#setSpecificKey">setSpecificKey</a></li><li data-type="method" id="Remote-getSessionParameters-nav"><a href="Remote.html#getSessionParameters">getSessionParameters</a></li><li data-type="method" id="Remote-setExecutable-nav"><a href="Remote.html#setExecutable">setExecutable</a></li><li data-type="method" id="Remote-run-nav"><a href="Remote.html#run">run</a></li></ul></li><li id="Actions-nav"><a href="Actions.html">Actions</a><ul class='methods'><li data-type="method" id="Actions-compile-nav"><a href="Actions.html#compile">compile</a></li></ul></li><li id="InputDevice-nav"><a href="InputDevice.html">InputDevice</a></li><li id="Pointer-nav"><a href="Pointer.html">Pointer</a><ul class='methods'><li data-type="method" id="Pointer-Move-nav"><a href="Pointer.html#Move">Move</a></li><li data-type="method" id="Pointer-Down-nav"><a href="Pointer.html#Down">Down</a></li><li data-type="method" id="Pointer-Up-nav"><a href="Pointer.html#Up">Up</a></li><li data-type="method" id="Pointer-Cancel-nav"><a href="Pointer.html#Cancel">Cancel</a></li><li data-type="method" id="Pointer-Pause-nav"><a href="Pointer.html#Pause">Pause</a></li></ul></li><li id="Keyboard-nav"><a href="Keyboard.html">Keyboard</a><ul class='methods'><li data-type="method" id="Keyboard-Up-nav"><a href="Keyboard.html#Up">Up</a></li><li data-type="method" id="Keyboard-Down-nav"><a href="Keyboard.html#Down">Down</a></li><li data-type="method" id="Keyboard-Pause-nav"><a href="Keyboard.html#Pause">Pause</a></li></ul></li></ul><h3>Mixins</h3><ul><li id="FindHelpersMixin-nav"><a href="FindHelpersMixin.html">FindHelpersMixin</a><ul class='methods'><li data-type="method" id="FindHelpersMixin-findElementCss-nav"><a href="FindHelpersMixin.html#findElementCss">findElementCss</a></li><li data-type="method" id="FindHelpersMixin-findElementLinkText-nav"><a href="FindHelpersMixin.html#findElementLinkText">findElementLinkText</a></li><li data-type="method" id="FindHelpersMixin-findElementPartialLinkText-nav"><a href="FindHelpersMixin.html#findElementPartialLinkText">findElementPartialLinkText</a></li><li data-type="method" id="FindHelpersMixin-findElementTagName-nav"><a href="FindHelpersMixin.html#findElementTagName">findElementTagName</a></li><li data-type="method" id="FindHelpersMixin-findElementXpath-nav"><a href="FindHelpersMixin.html#findElementXpath">findElementXpath</a></li><li data-type="method" id="FindHelpersMixin-findElementsCss-nav"><a href="FindHelpersMixin.html#findElementsCss">findElementsCss</a></li><li data-type="method" id="FindHelpersMixin-findElementsLinkText-nav"><a href="FindHelpersMixin.html#findElementsLinkText">findElementsLinkText</a></li><li data-type="method" id="FindHelpersMixin-findElementsPartialLinkText-nav"><a href="FindHelpersMixin.html#findElementsPartialLinkText">findElementsPartialLinkText</a></li><li data-type="method" id="FindHelpersMixin-findElementsTagName-nav"><a href="FindHelpersMixin.html#findElementsTagName">findElementsTagName</a></li><li data-type="method" id="FindHelpersMixin-findElementsXpath-nav"><a href="FindHelpersMixin.html#findElementsXpath">findElementsXpath</a></li></ul></li></ul><h3 id="global-nav">Global</h3><ul><li><a href="global.html#KEY">KEY</a></li></ul>
  </nav>

  <div id="main">
    

    
      



    

      


  <section class="readme">
    <article>
      <h1>The best Webdriver API to date</h1><p>(According to its author. Pinch of salt required.)</p>
<h2>Be productive in less than 20 minutes.</h2><p>Reading this short document is enough to cover <em>every</em> aspect of the API.</p>
<p>Be sure to check out the <a href="https://mercmobily.github.io/best-webdriver/index.html">API documentation</a></p>
<p>Yes, the <a href="https://github.com/mercmobily/best-webdriver">best webdriver</a> is hosted on github</p>
<p>Yes, it's also <a href="https://www.npmjs.com/package/best-webdriver">available on NPM</a></p>
<h3>Intro</h3><ul>
<li>Slim code: <strong>817 lines of code</strong> and <strong>7 active classes</strong>, compared to the selenium-webdriver's <strong>5654 lines of code</strong> and <strong>92 classes</strong></li>
<li>100% <a href="https://w3c.github.io/webdriver/webdriver-spec.html#compatibility">W3C's webdriver</a> compliant. The code only ever makes pure webdriver calls</li>
<li><a href="https://mercmobily.github.io/best-webdriver/index.html">Well documented API</a> which comes with a simple quickstart guide</li>
<li>The API is async/await friendly. Each call returns a promise. Development is a breeze</li>
<li>Easy to debug. There is a 1:1 mapping between calls and the webdriver protocol, without trickery</li>
<li>Simple system to define sequences of webdriver UI actions</li>
</ul>
<h4>Get your system ready</h4><p>First of all, install <code>best-webdriver</code> using NPM:</p>
<pre class="prettyprint source"><code>npm install --save best-webdriver</code></pre><p>Also, make sure you install at least one webdriver on your computer:</p>
<ul>
<li><a href="http://chromedriver.storage.googleapis.com/index.html">Chrome</a></li>
<li><a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/">IE</a></li>
<li><a href="https://github.com/mozilla/geckodriver/releases/">Firefox</a></li>
<li><a href="https://developer.apple.com/library/content/releasenotes/General/WhatsNewInSafari/Articles/Safari_10_0.html#//apple_ref/doc/uid/TP40014305-CH11-DontLinkElementID_28">Safari</a></li>
</ul>
<p>NOTE: at this stage, this library will only work with Chrome and Firefox. Safari and IE support is coming soon.</p>
<p>Once you are done, you are pretty much ready to go.</p>
<h3>Create a session on a locally spawn webdriver</h3><p>To open up a driver, simply run:</p>
<pre class="prettyprint source"><code>;(async () => {
  try {
    const { Driver, browser, Actions } = require('best-webdriver')

    // Create a new driver object, using the Chrome browser
    var driver = new Driver(new browser.Chrome())

    // Create a new session. This will also run `chromewebdriver` for you
    await driver.newSession()

    // ...add more code here
    // This is where code from this guide will live
  } catch (e) {
    console.log('ERROR:', e)
  }
})()</code></pre><p>If everything goes well, you will see a Chrome window appear. Note that that <code>(async () =&gt; {</code> is there to make sure that you can use <code>await</code>.</p>
<p><em>Please note that in this guide it will always be assumed that the code is placed in <code>// ...add more code here</code>, and that the async function, require and session creation won't be repeated.</em></p>
<h3>Understanding session options</h3><p>Understanding how sessions are created is crucial. This section explains the session object itself (and helper methods), creating a session without spawning a webdriver process, and creating a session with the generic Remote browser.</p>
<h4>The basic session object</h4><p>Most of the time, especially when you are just starting with webdrivers, you tend to use APIs such as this one for one specific browser's webdriver. Most APIs (including this one) will spawn a Chrome webdriver process, for example, when you create a new session using Chrome as the browser:</p>
<pre class="prettyprint source"><code>var driver = new Driver(new browser.Chrome())</code></pre><p>At this point, no process is spawned yet. However, when you run:</p>
<pre class="prettyprint source"><code>await driver.newSession()</code></pre><p>The driver, by default, will use the browser's <code>run()</code> method to spawn a <code>chromedriver</code> process, and will then connect to it and create a new browsing session.</p>
<p>When creating a session, the driver will use configuration options provided by the browser. For example if you type:</p>
<pre class="prettyprint source"><code>var chrome = new browser.Chrome()
var params = chrome.getSessionParameters()
console.log('Session parameters:', require('util').inspect(params, { depth: 10 } ))</code></pre><p>This is display the configuration object created by default by the Chrome browser. You will see:</p>
<pre class="prettyprint source"><code>{
  capabilities: {
    alwaysMatch: {
      chromeOptions: { w3c: true },
      browserName: 'chrome'
    },
   firstMatch: []
  }
}</code></pre><p>It's important that you understand the configuration option:</p>
<ul>
<li>It must have a <code>capabilities</code> key</li>
<li>Under <code>capabilities</code>, it must have the keys <code>alwaysMatch</code> (object) and <code>firstMatch</code> (an array)</li>
<li>It may have more keys in the object's root namespace</li>
<li><code>chromeOptions</code> (under <code>alwaysMatch</code>) represents Chrome-specific options. In this case, <code>w3c:true</code> is specified in order to use Chrome with this API (since this API implements webdriver in its pure form, you need Chrome to use the W3c protocol as much as possible).</li>
</ul>
<h4>Setting session parameters</h4><p>You can also set the session options using the setting methods:</p>
<pre class="prettyprint source"><code>var chrome = new browser.Chrome()
chrome.setAlwaysMatchKey('pageLoadStrategy', 'eager')
      .addFirstMatch({ platformName: 'linux' })
      .setRootKey('login', 'merc')
      .setRootKey('password', 'youwish')
      .setSpecificKey('detach', true)

var params = chrome.getSessionParameters()
console.log('Session parameters:', require('util').inspect(params, { depth: 10 } ))</code></pre><p>You will see:</p>
<pre class="prettyprint source"><code>{
  // set by setRootKey()
  login: 'merc',
  pass: 'youwish',

  capabilities: {
    alwaysMatch: {

      // Set by the Chrome constructor
      chromeOptions: { w3c: true, detach: true },
      browserName: 'chrome'

      // Set my setAlwaysMatchKey()
      pageLoadStrategy: 'eager'
    },
    firstMatch: [

      // Added by addFirstmatch()
      { platformName: 'linux' }
    ]
  }
}</code></pre><p>Remember that in <a href="Browser.html#setAlwaysMatchKey">Browser#setAlwaysMatchKey</a>, <a href="Browser.html#setRootKey">Browser#setRootKey</a> and <a href="Browser.html#setSpecificKey">Browser#setSpecificKey</a>, the key can actually be a path: if it has a <code>.</code> (e.g. <code>chrome.setAlwaysMatchKey('timeouts.implicit</code>), the property <code>capabilities.alwaysMatch.timeouts.implicit</code> will be set.</p>
<h4>Running the API without spawning a webdriver</h4><p>You might decide to use this API <em>without</em> spawning a process for the chromedriver.
This is especially handy if you are using for example an online service, or a webdriver already running on a different machine.</p>
<p>Here is how you do it notice the <code>spawn: false</code> property:</p>
<pre class="prettyprint source"><code>// Create a new Chrome browser object
var chrome = new browser.Chrome()

// Create the driver, using that browser's
// configuration WITHOUT spawning a chromedriver process
var driver = new Driver(chrome, {
  spawn: false,
  host: '10.10.10.45',
  port: 4444
})</code></pre><h4>The generic &quot;Remote&quot; browser</h4><p>Lastly (and more commonly), you might want to connect to a generic webdriver proxy, which will accept your session requirement and will provide you with a suitable browser. In this case, you will use the generic browser called <a href="Remote.html">Remote</a>, which is a &quot;blank&quot; browser without the ability to spawn a specific webdriver, and without and specific options.</p>
<p>Here is how you would run it:</p>
<pre class="prettyprint source"><code>// Create a new generic browser object, specifying the alwaysMatch parameter
var remote = new browser.Remote()

remote.setAlwaysMatchKey('browserName', 'chrome')
      .setAlwaysMatchKey('platformName', 'linux')

// Creating the driver
var driver = new Driver(remote, {
  host: '10.10.10.45',
  port: 4444
})</code></pre><p>Note that since you used the generic <a href="Remote.html">Remote</a> browser, the session configuration did <em>not</em> include the browser-specific <code>{ w3c: true }</code> value.</p>
<h3>Running amok with driver calls</h3><p>If you have the following chunk of code:</p>
<pre class="prettyprint source"><code>// Create a new driver object, using the Chrome browser
var driver = new Driver(new browser.Chrome())

// Create a new session. This will also run `chromewebdriver` for you
await driver.newSession()</code></pre><p>You can then run commands using the webdriver.
There are three types of call:</p>
<ul>
<li>Calls that will deal with parameters and values on the currently opened page</li>
<li>Calls that will return objects <a href="Driver.html#findElement">Driver#findElement</a> and <a href="Driver.html#findElement">Driver#findElement</a></li>
<li>Call to run user <a href="Actions.html">Actions</a></li>
</ul>
<p>Finally, all calls can be &quot;polled&quot;, which implies re-running the command at intervals until it succeeds, or until it fails (after it reaches a timeout).</p>
<h3>Non-element driver calls</h3><p>Once you've created a driver object, you can use it to actually make webdriver calls.</p>
<p>For example:</p>
<pre class="prettyprint source"><code>var driver = new Driver(new browser.Chrome())
await driver.newSession()
await driver.navigateTo('https://www.google.com')
var screenshotData = await driver.takeScreenshot()
var src = await driver.getPageSource()
var title = await driver.getTitle()
await driver.refresh()</code></pre><p>All of these commands are self-explanatory, and fully documented in the <a href="Driver.html">Driver</a> documentation (basically, all of the listed calls under the <a href="Driver.html">Driver</a> object)</p>
<p>Remember that there is a 1:1 mapping between driver calls and Webdriver calls.</p>
<h3>Returning elements</h3><p>Some of the driver calls will return an <a href="Element.html">Element</a> object. For example:</p>
<pre class="prettyprint source"><code>await driver.navigateTo('https://www.google.com')    
var el = await driver.findElementsCss('[name=q]')</code></pre><p>The returned element will be an instance of <a href="Element.html">Element</a>, created with the data returned by the <code>findElementCss()</code> call.
An element object is simply an object with a reference to the <code>Driver</code> that created it, and a unique ID returned by the webdriver call.</p>
<p><a href="Element.html">Element</a> objects have several element-related methods. For example, you can get the tag name for a found element:</p>
<pre class="prettyprint source"><code>await driver.navigateTo('https://www.google.com')    
var el = await driver.findElementsCss('[name=q]')
var tagName = await el.getTagName()</code></pre><p>More importantly, <a href="Element.html">Element</a> objects <em>also</em> offer methods that will return elements. In this case, the search will be limited to elements children of the element being searched.
For example:</p>
<pre class="prettyprint source"><code>await driver.navigateTo('https://www.example.com')    
// Get the OL tag
var ol = await driver.findElementsTagName('ol')

// Get the LI tags within OL
var lis = await ol.findElementsTagName('li')</code></pre><h3>Run Actions</h3><p>Actions are a rather complex part of the webdriver specs. Actions are important so that you can get the browser to perform a list of timed, complex UI actions.</p>
<p>Actions are always performed by either a keyboard device, or a pointer device (which could be a <code>MOUSE</code>, <code>TOUCH</code> or <code>PEN</code>)</p>
<p>Once the action object is created, you can add &quot;ticks&quot; to it using the
property <code>tick</code> (which is actually a getter). The way you use <code>tick</code> depends on the devices you created.</p>
<p>If you call the constructor like this:</p>
<pre class="prettyprint source"><code>var actions = new Actions()</code></pre><p>It's the same as writing:</p>
<pre class="prettyprint source"><code>var actions = new Actions(
  new Keyboard('keyboard'),
  new Pointer('mouse', Pointer.Type.MOUSE)
)</code></pre><p>This will make two devices, <code>mouse</code> and <code>keyboard</code>, available.</p>
<p>Such a scenario will allow you to call:</p>
<pre class="prettyprint source"><code>actions.tick.keyboardDown('r').mouseDown()
actions.tick.keyboardUp('r').mouseUp()</code></pre><p>Here, <code>keyboardUp</code> was available as a combination of the keyboard ID <code>keyboard</code>
and the keyboard action <code>Up</code>.</p>
<p>In short:</p>
<ul>
<li>Keyboard devices will have the methods <code>Up</code>, <code>Down</code></li>
<li>Pointer devices will have the methors <code>Move</code>, <code>Up</code>, <code>Down</code>, <code>Cancel</code></li>
<li>Both of them have the method <code>pause</code></li>
</ul>
<p>If you create an actions object like this:</p>
<pre class="prettyprint source"><code> var actions = new Actions(new Keyboard('cucumber'))</code></pre><p>You are then able to run:</p>
<pre class="prettyprint source"><code>actions.tick.cucumberDown('r')
actions.tick.cucumberUp('r')</code></pre><p>However running:</p>
<pre class="prettyprint source"><code>actions.tick.cucumberMove('r')</code></pre><p>Will result in an error, since <code>cucumber</code> is a keyboard device, and it doesn't
implement <code>move</code> (only pointers do)</p>
<p>If you have two devices set (like the default <code>keyboard</code> and <code>mouse</code>, which
is the most common use-case), you can set one action per tick:</p>
<pre class="prettyprint source"><code>var actions = new Actions() // By default, mouse and keyboard
// Only a keyboard action in this tick. Mouse will pause
actions.tick.keyboardDown('r')
// Only a mouse action in this tick. Keyboard will pause
actions.tick.mouseDown()
// Both a mouse and a keyboard action this tick
actions.tick.keyboardUp('r').mouseUp()</code></pre><p>You can only add one action per device in each tick. This will give an error,
because the <code>mouse</code> device is trying to define two different actions in the same
tick:</p>
<pre class="prettyprint source"><code>actions.tick.mouseDown().mouseUp()</code></pre><p>You are able to chain tick calls if you want to:</p>
<pre class="prettyprint source"><code>actions
.tick.keyboardDown('r').mouseDown()
.tick.keyboardUp('r').mouseUp()</code></pre><p>Once you have decided your actions, you can submit them:</p>
<pre class="prettyprint source"><code> await driver.performActions(actions)</code></pre><p>You can set multiple touch devices, and use them for multi-touch:</p>
<pre class="prettyprint source"><code>var actions = new Actions(
  new Pointer('finger1', Pointer.Type.TOUCH),
  new Pointer('finger2', Pointer.Type.TOUCH)
)
// Define actions: Moving two fingers vertically at the same time
actions
.tick.finger1Move({ x: 40, y: 40 }).finger2Move({ x: 40, y: 60 }
.tick.finger2Move({ x: 40, y: 440 }).finger2Move({ x: 40, y: 460 }

// Actually perform the actions
driver.performActions(actions)</code></pre><p>You can also move a pointer over a specific element, specifying how long it will take (in milliseconds):</p>
<pre class="prettyprint source"><code>await driver.navigateTo('https://www.google.com')    
var el = await driver.findElementsCss('[name=q]')
var actions = new Actions(new Pointer('mouse', Pointer.Type.MOUSE))

// Moving over `el`, taking 1 second
actions.tick.mouseMove({ origin: el, duration: 1000 })</code></pre><p>Keyboard devices can perform:</p>
<ul>
<li><a href="Keyboard.html#Up">Keyboard#Up</a></li>
<li><a href="Keyboard.html#Down">Keyboard#Down</a></li>
<li><a href="Keyboard.html#Pause">Keyboard#Pause</a></li>
</ul>
<p>Mouse devices can perform:</p>
<ul>
<li><a href="Pointer.html#Up">Pointer#Up</a></li>
<li><a href="Pointer.html#Down">Pointer#Down</a></li>
<li><a href="Pointer.html#Move">Pointer#Move</a></li>
<li><a href="Pointer.html#Cancel">Pointer#Cancel</a></li>
<li><a href="Pointer.html#Pause">Pointer#Pause</a></li>
</ul>
<p>The <a href="Actions.html">Actions</a> class documentation explains exactly how actions work.</p>
<h3>Polling</h3><p>When writing tests for web sites and applications, timing can become an issue. For example while you know that your page will be load after this:</p>
<pre class="prettyprint source"><code>await driver.navigateTo('https://www.google.com')</code></pre><p>What you don't know is this: have <em>all</em> of the AJAX finished fetching data? Has <em>all</em> of the DOM been updated after the event?</p>
<p>The answer is &quot;you don't know&quot;. So, the ability to poll is very important.</p>
<p>This API has the simplest, most streamlined approach possible i nterms of polling: there is only one call, <code>waitFor()</code>, which is available in <a href="Element.html#waitFor">Element#waitFor</a> and {@Driver#waitFor} objects.</p>
<p>The way it works is really simple: <code>waitFor()</code> actually acts as a proxy to the real object calls, wit hthe twist that it will retry them until they work out. Each call will also accept one extra parameter (compared to their signature), which is a function that will also return a truly value for the call to be successful.</p>
<p>So, while you would normally do:</p>
<pre class="prettyprint source"><code>var el = driver.findElementCss('#main')</code></pre><p>If you wanted to wait, you would run the following call, which will run <code>findElementsCss()</code> every 300ms, until it's finally worked or until the default timeout of 10000ms (10 seconds) has expired:</p>
<pre class="prettyprint source"><code>var el = await driver.waitFor().findElementCss('#main')</code></pre><p>You can set different poll interval and timeout:</p>
<pre class="prettyprint source"><code>driver.setPollTimeout(15000)
driver.setPollInterval(200)</code></pre><p>Or, you can set them on a per-call basis:</p>
<pre class="prettyprint source"><code>driver.waitFor(15000, 300).findElementCss('#main')</code></pre><p>Finally, you can add one extra parameter to the call: it will be</p>
<pre class="prettyprint source"><code>driver.waitFor().findElementsCss('li', (r) => r.length))</code></pre><p>In this case, the callback <code>(r) =&gt; r.length</code> will only return truly when <code>r</code> (the result from the call) is a non-empty array.</p>
<p>Behind the scenes, <code>waitFor()</code> returns a proxy object which will in turn run the call and check that it didn't return an error; it also checks that the result passes the required checker function, if one was passed.</p>
<p>The result of this is that one simple chained method, <a href="Driver.html#waitFor">Driver#waitFor</a>/<a href="Element.html#waitFor">Element#waitFor</a>, turns every call for <a href="Driver.html">Driver</a> and <a href="Element.html">Element</a> into a polling function able to check the result.</p>
<h3>Limitations</h3><p>The main limitation of this API is that <em>it will only ever speak in w3c webdriver protocol</em>. For example, as of today Chrome doesn't yet implement <a href="Actions.html">Actions</a>. While other APIs try to &quot;emulate&quot; actions (with crippling limitatins) by calling non-standard endpoints, this SPI will simply submit the actions to the chrome webdriver and surely receive an error in response.</p>
<p>Another limitation is that it's an API that is very close to the metal: you are supposed to understand how the session configuration works, for example; so, while you do have helper methods such as <code>setAlwaysMatchKey()</code>, <code>addFirstMatch()</code> etc., you are still expected to <em>understand</em> what these calls do. Also, browser-specific parameters are added via <code>setSpecificKey()</code>; however, there are no helpers methods to get these parameters right. For example, if you want to add plugins to Chrome using the <code>extensions</code> option, you will need to create an array of packed extensions loaded from the disk and converted to base64. This <em>may</em> change in the future, as this API matures; however, it won't add more classes and any enhancement will always be close enough to the API to be easy to understand.</p>
<h3>Go test!</h3><p>That's all you need -- time to get testing!</p>
    </article>
  </section>


    


  </div>

  <br class="clear">

  <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
  </footer>

  <script src="scripts/linenumber.js"></script>
  <script src="scripts/pagelocation.js"></script>

  
  
</body>
</html>